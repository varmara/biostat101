<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Описательная статистика</title>
    <meta charset="utf-8" />
    <meta name="author" content="Марина Варфоломеева" />
    <script src="site_libs/header-attrs-2.15/header-attrs.js"></script>
    <link href="site_libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <!-- https://github.com/fnaufel/xaringan-smartify-->
    <script
    			  src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    			  integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
    			  crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fnaufel/xaringan-smartify/smartify.min.js"></script>
    <link rel="stylesheet" href="assets/xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="assets/xaringan.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: middle, left, inverse, title-slide

.title[
# Описательная статистика
]
.subtitle[
## Основы биостатистики, осень 2022
]
.author[
### Марина Варфоломеева
]

---






## Описательная статистика

- Описательная статистика: меры центральной тенденции и разброса
- Мода
- Медиана
- Разнообразие средних значений
- Связка среднее арифметическое и стандартное отклонение
- Медиана и межквартильное расстояние
- Коэффициент вариации
- Боксплоты
- Сопоставление свойств средней и медианы, стандартного отклонения и межквартильного расстояния
- Накопленные частоты и пропорции: квантили и перцентили, кумулята и огива, пропорции

---

class: middle, center, inverse

# Описательная статистика: &lt;br/&gt;меры центральной тенденции и разброса

---

## Пример: длина ящериц



Допустим, вы поймали несколько ящериц и измерили их длину (см).

.pull-left[

![:scale 100%](img/Viviparous_lizard_Zootoca_vivipara_in_the_Aamsveen_The_Netherlands.jpg)
.tiny[&lt;a href="https://commons.wikimedia.org/wiki/File:Viviparous_lizard_(Zootoca_vivipara)_in_the_Aamsveen,_The_Netherlands.jpg"&gt;Ocrdu&lt;/a&gt;, &lt;a href="https://creativecommons.org/licenses/by-sa/4.0"&gt;CC BY-SA 4.0&lt;/a&gt;, via Wikimedia Commons]

]

.pull-right[

![](img/lizards-unsorted.png)

10, 4, 7, 8, 7, 6, 11, 6, 13, 6, 10

]

???

Представьте, что у нас есть такой датасет (пример). Было бы удобнее описать его парой чисел и не приводить все исходные данные. Кроме того, сжатое описание данных — это способ лучше в них разобраться.

TODO: найти пример, умещающийся на экран, наблюдений 7

---

## Ряд наблюдений можно изобразить &lt;br/&gt;на гистограмме

.pull-left[

![](img/lizards-unsorted.png)

10, 4, 7, 8, 7, 6, 11, 6, 13, 6, 10

]
.pull-right[

![](03-descriptive-statistics_files/figure-html/gg-hist-1.png)&lt;!-- --&gt;

]



--


Как можно кратко описать размеры ящериц,  
чтобы не приводить весь ряд?

---

## Описательная статистика

Описательная статистика служит для краткого количественного описания данных.

.pull-left[
- __Меры центральной тенденции__ &lt;br/&gt;(_measures of location_)
]
.pull-right[
- __Меры разброса__ &lt;br/&gt;(_measures of spread_)
]

---

## Меры центральной тенденции &lt;br/&gt;(_measures of location_)


Оценивают, где расположены данные

.pull-left-40[

- мода
- медиана
- среднее арифметическое, геометрическое и т.п.
]
.pull-right-60[

![](img/pinpoint-unsplash.png)
.tiny[by geojango_maps at Unsplash]
]


???

График из примера, отметить разные

---

## Меры разброса, показатели вариации, &lt;br/&gt;(_measures of spread_)

Описывают изменчивость, ширину распределения данных
.pull-left-40[
- размах, диапазон варьирования
- дисперсия
- стандартное отклонение
- коэффициент вариации
- квантили, перцентили
]
.pull-right-60[
![](img/seyatel.png)

.tiny[Картина "сеятель, разбрасывающий облигации государственного займа" из к.ф. "12 стульев"]

]


???

График из примера, отметить разные. Картина "сеятель, разбрасывающий облигации государственного займа".

---

## Традиционные связки статистик

Мера центральной тенденции обычно используется вместе с подходящей мерой разброса.

- медиана и квантили
- среднее и стандартное отклонение

???

Некоторые связки статистик традиционно используются вместе: мера центральной тенденции и подходящая для неё мера разброса. Например,…

Для моды нет традиционного компаньона.

Для начала мы разберемся с мерами центральной тенденции, а потом посмотрим на связки статистик центральной тенденции и разброса.

Максимально сжатое описание данных — это представить их в виде одного единственного числа, отображающего их самое характерное, "центральное" значение. Но что такое "характерное/типичное/центральное" будет зависеть от определения этих понятий. Разные описательные статистики будут высвечивать разные особенности данных. Т.е. чтобы выбрать правильную меру центральной тенденции, нужно представлять, что именно вы хотите показать.

---

class: middle, center, inverse
background-image: url("img/mode-umbrellas-unsplash.png")
background-position: center
background-size: cover

# Мода

.tiny[by smile_97 at Unsplash]

---

## Мода

__Мода__ — наиболее часто встречающееся значение в наборе данных.
&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

![](img/lizards-sorted.png)


---

## Мода

Мода — наиболее часто встречающееся значение в наборе данных.
&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

Мода равна 6

.pull-left[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

.pull-right[

![](03-descriptive-statistics_files/figure-html/gg-measures-of-location-1.png)&lt;!-- --&gt;

]


???

TODO: мода в данных из примера


---

## Мода часто используется для категориальных данных

![](03-descriptive-statistics_files/figure-html/gg-mode-categorical-1.png)&lt;!-- --&gt;


???

TODO: картинка с категориальными данными и частотой категорий.

Для категориальных данных бывает интересно узнать, какая категория встречается чаще всего. Например, здесь это …

---

## Мода может быть не одна

![](03-descriptive-statistics_files/figure-html/gg-mode-two-1.png)&lt;!-- --&gt;


???

TODO: Картинка с бимодальным распределением, где две моды с равной частотой

Поскольку в данных может быть несколько частых значений, мода не очень удачна для описания центральной тенденции. Здесь на картинке две моды с одинаковой частотой. Какая из них лучше описывает данные?

## Может не быть моды вообще

![](03-descriptive-statistics_files/figure-html/gg-mode-none-1.png)&lt;!-- --&gt;

???

Или представьте, что вы измеряете рост 15 человек с точностью до 1 мм. Как будет выглядеть распределение веса? Вы вряд ли получите совпадающие значения, значит никакой моды не будет (если не объединять наблюдения в группы).  (если больше людей, то будут повторы)

TODO: картинка с гистограммой веса с точностью до 100 г.

## Мода может быть не в центре распределения


![](03-descriptive-statistics_files/figure-html/gg-mode-nb-1.png)&lt;!-- --&gt;

???

В некоторых случаях мода не дает представления о положении центральной тенденции, т.к. может быть не в "центре" распределения, а "с краю".

TODO: картинка с zero inflated negative binomial с большим средним.

---

## Унимодальные и бимодальные распределения

— термины, позволяющие различать распределения с разным количеством вершин


![](03-descriptive-statistics_files/figure-html/gg-mode-uni-bi-1.png)&lt;!-- --&gt;


???

TODO: картинка с унимодальным, бимодальным и полимодальным распределениями

Тем не менее, благодаря моде у нас появляются термины для распределений с разным количеством вершин.

---

class: middle, center, inverse
background-image: url("img/boats-median-unsplash.png")
background-position: center
background-size: cover

# Медиана

.tiny[by benharritt at Unsplash]

---

## Медиана

__Медиана__ — это число, которое делит пополам упорядоченный ряд наблюдений.

Чтобы ее найти, нужно отсортировать (ранжировать) наблюдения.

![](img/lizards-sorted.png)

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13


???

TODO: Картинка: ранжированный ряд

---

## Медиана

Если нечетное число наблюдений, то его середина — это медиана.

![:scale 43%](img/lizards-odd.png)

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

--

Если четное число наблюдений, то медиана находится между двумя центральными (их среднее арифметическое).

![:scale 43%](img/lizards-even.png)

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, 20, медиана 7.5

???

---

## Медиана


![](03-descriptive-statistics_files/figure-html/gg-median-hist-1.png)&lt;!-- --&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

---

class: center, inverse
background-image: url("img/means-coffee-unsplash.png")
background-position: center
background-size: cover

# Разнообразие средних значений

.tiny[by pritesh557 at Unsplash]

---

## Среднее арифметическое

Обычно под термином __среднее значение__ мы подразумеваем __среднее арифметическое__.

`$$\bar{x}=\frac{x_{1}+x_{2}+\cdots+x_{n}}{n}=\frac{\sum x}{n}$$`

Среднее в выборке обозначается `\(\bar{x}\)`, а в генеральной совокупности μ


???

Хорошо работает если значения складываются (т.е. сумма величин имеет свой смысл), интуитивно понятно.

Не работает, если большой разброс значений в ряду.

---

## Другие средние

`$$\Bigl(\frac{x_{1}^p+x_{2}^p+\cdots+x_{n}^p}{n}\Bigr)^{\frac{1}{p}}$$`

Все зависит от того, чему равно `\(p\)`

- `\(p = 1\)` — среднее арифметическое
- `\(p = 2\)` — среднее квадратическое
- `\(p = 3\)` — среднее кубическое
- `\(p = -1\)` — среднее гармоническое
- `\(p \rightarrow 0\)` — среднее геометрическое

---

## Среднее квадратическое

`$$\left(\frac{{x}_{1}^{2}+{x}_{2}^{2}+\ldots+{x}_{n}^{2}}{{n}}\right)^{\frac{1}{2}}=\sqrt{\frac{{x}_{1}^{2}+{x}_{2}^{2}+\ldots+{x}_{n}^{2}}{n}}$$`
.pull-left[

Можно использовать для двумерных признаков (для площадей)

- средняя площадь квадрата, вычисленная по сторонам квадратов


Дисперсия — мера разброса — так же определяется как среднеквадратичное отклонение от среднего значения в ряду.

]
.pull-right[

![](img/mean-quadratic-fields-aereal-unsplash.png)
.tiny[by vtoesca at Unsplash]
]


--


???

Например, представьте, что вы берете пробы квадратными рамками со стороной 10, 15 и 20 см. И вы хотите изменить методику и использовать усредненную рамку. Чему равна средняя сторона рамки? Нет, не 15 см (средняя арифметическая), потому что тогда можно было бы подумать, что общая площадь рамок была бы 3 * 15^2 = 675 см^2 (а на самом деле `\(10^2 + 15^2 + 20^2 = 725 см^2\)`). Если использовать среднее квадратическое, то будет более правильно: `\(\sqrt{\frac{10^2 + 15^2 + 20^2} {3}}= 15.54см\)` `\(3 * 15.54^2 = 724.47 см^2\)`

---

## Среднее кубическое

`$$\left(\frac{{x}_{1}^{3}+{x}_{2}^{3}+\ldots+{x}_{n}^{3}}{{n}}\right)^{\frac{1}{3}}=\sqrt[3]{\frac{{x}_{1}^{3}+{x}_{2}^{3}+\ldots+{x}_{n}^{3}}{n}}$$`

.pull-left[

Используется для объемных признаков:

- средний объем клеток листа по их диаметрам

]
.pull-right[

![](img/mean-cubic-leaf-cells-pxhere.jpg)

.tiny[[pxhere](https://pxhere.com/en/photo/1068793)]

]

---

## Среднее гармоническое

`$$\left(\frac{x_{1}^{-1}+x_{2}^{-1}+\ldots+x_{n}^{-1}}{n}\right)^{-1}=\frac{n}{\frac{1}{x_{1}}+\frac{1}{x_{2}}+\ldots+\frac{1}{x_{n}}}$$`
.pull-left[

Используется, если величины представлены отношениями в расчете на какую-то единицу.

- средняя скорость, когда известны скорости в расчете на один круг (одно расстояние)
- средняя цена, когда известны количества товара, купленные на одну и ту же сумму

]

.pull-right[

![](img/mean-harmonic-racetrack-unsplash.png)

.tiny[by felixberger at Unsplash]

]



???

(= среднее субпротиворечивое(?)).

Усредняются значения величин в расчете на единицу. Например, скорости измеряют в расчете на единицу времени, например на 1 час. Тогда если известны скорости, с которой улитка преодолела определенное расстояние на разных типах поверхности (12 м/ч и 11 м/ч), то средняя скорость будет рассчитываться как средняя гармоническая (= 2 / (1/12 + 1/11) = 11.48 м/ч). Можно сказать, что среднее гармоническое __используется, когда один и тот же объем работы выполняется с разной производительностью__.

- средняя цена акций, купленных на фиксированную сумму в разные даты покупки (5 а за 1000 и 7 а за 1000).

- средняя скорость по дороге на работу/домой

- студент может читать учебник (30 стр./ час) и конспектировать его (10 стр./час). Сколько в среднем страниц он может обработать в час? = 2 / (1/30+1/10) = 15 стр. Поскольку студент будет делать и то и другое и нас интересует его средняя производительность, делим на 2 и получится 7.5 стр. Проверяем: студент потратит на чтение 7.5 страниц 7.5 / 30 = 0.25 часа, а на конспектирование 7.5 / 10 = 0.75 часа. И всего потратит 0.25 + 0.75 = 1 час. Если студент будет и читать, и конспектировать, то на обработку 7.5 страниц потребуется 1 час.

- 

---

## Среднее геометрическое

= среднее пропорциональное

`$$\sqrt[n]{x_{1} \cdot x_{2} \cdot \ldots \cdot x_{n}}$$`
.pull-left[

Используется если между величинами мультипликативные отношения (т.е. показывают, во сколько раз что-то изменилось) для вычисления средней скорости изменения.
- средняя скорость роста численности популяции на определенном отрезке, если известно, во сколько раз она изменилась за каждый период
- средние темпы инфляции, если известна инфляция за период

]
.pull-right[

![](img/mean-geometric-population-growth-wiki.png)
.tiny[World Population Growth. Our World in Data; Author: Max Roser, &lt;br/&gt;[CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0), via Wikimedia Commons]

]


???

Если величины измеряют во сколько раз что-то изменилось, т.е. между ними мультипликативные отношения.

Численность рысей увеличилась в 1.5 раза, а потом еще в 1.2 раза. Т.е. всего в 1.8 раз за два года. Среднее арифметическое не подходит, т.к. получится 1.35 раза в год и за два года 1.35 * 1.35 = 1.825. Средняя геометрическая = 1.34 раза и за два года 1.34 * 1.34 = 1.79, что гораздо ближе к истинному значению.

- скидки в %, средняя скидка
- площади, есть участок можно вычислить сторону квадрата такой же площади, но зачем?
- темпы инфляции в % за период, средняя инфляция
- средняя доходность, если известна доходность в % за каждый период

---

class: middle, center, inverse

# Связка среднее арифметическое и стандартное отклонение

???

Статистики для описания выборок всегда ходят парами. Меры центральной тенденции всегда используются вместе с мерами разброса. Сейчас мы рассмотрим одну такую связку, пожалуй, самую популярную.

TODO: фото с парой объектов или со связкой

---

## Среднее значение

`$$\bar{x}=\frac{\sum{x_i}}{n}$$`

![](03-descriptive-statistics_files/figure-html/gg-mean-hist-1.png)&lt;!-- --&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, среднее значение `\(\bar{x}=8\)`

--

### Как оценить разброс значений вокруг среднего?

???

Вернемся к среднему значению…

Как оценить разброс значений вокруг среднего?

TODO: добавить картинки с данными из примера.

---

## Подойдет ли девиата для оценки разброса?

__Девиата__ (отклонение) — это разность между значением вариаты (измерения) и средним:

`$$x_i - \bar{x}$$`

![](03-descriptive-statistics_files/figure-html/gg-deviates-1.png)&lt;!-- --&gt;

Данные 10, 4, 7, 8, 7, 6, 11, 6, 13, 6, 10, среднее значение `\(\bar{x}= 8\)`

Девиаты 2, -4, -1, 0, -1, -2, 3, -2, 5, -2, 2

---

## Девиаты не годятся как мера разброса

Нельзя так просто сложить все значения девиат и поделить их на объем выборки.

__Сумма девиат всегда будет равна нулю__.

--

.pull-left-45[

`$$\begin{aligned} 
\sum{(x_i - \bar{x})} &amp;= \sum x_i - \sum \bar x = \\ 
&amp;= \sum x_i - n \bar x = \\ 
&amp;= \sum x_i - n \cfrac{\sum x_i}{n} = 0 
\end{aligned}$$`

]

--

.pull-right-55[

Девиаты 2, -4, -1, 0, -1, -2, 3, -2, 5, -2, 2

Сумма девиат 0

]


???

Мем из властелина колец про нельзя так просто

---

## Сумма квадратов (SS, Sum of Squares)

Чтобы избавиться от знака, возведем девиаты в квадрат

__Сумма квадратов отклонений__:

`$$SS = \sum{{(x_i - \bar{x})}^2} \ne 0$$`

![](03-descriptive-statistics_files/figure-html/gg-deviates-1.png)&lt;!-- --&gt;

Девиаты 2, -4, -1, 0, -1, -2, 3, -2, 5, -2, 2

--

Сумма квадратов отклонений (девиат) `\(SS = 72\)`

--

Но на что разделить `\(SS\)`, чтобы получить __усредненное__ отклонение от `\(\bar{x}\)`?

---

## Как усреднить отклонения от среднего значения?

Мы не можем делить на `\(n\)`, поскольку __в выборке__ отклонения от среднего `\(x_i - \bar x\)` не будут независимы:

Что это значит? Сумма отклонений всегда равна нулю `\(\sum{(x_i - \bar{x})} = 0\)`.  

Поэтому, если мы знаем `\(\bar x\)` и `\(n - 1\)` отклонений, то всегда сможем точно вычислить последнее отклонение.

&lt;br /&gt;

`\(n - 1\)` — это число независимых значений (__число степеней свободы__, __degrees of freedom__).

---

## Дисперсия (MS, Mean Square, Variance)

Если мы поделим сумму квадратов на объем выборки минус 1, то получим дисперсию для этой выборки.

`$$s^2=\frac{\sum{(x_i - \bar{x})^2}}{n - 1}= \frac{SS}{n - 1}$$`

__Дисперсия__ (средний квадрат отклонений) — характеристика разброса.  

- `\(s^2\)` — дисперсия в выборке 
- `\(\sigma^2\)` — дисперсия в генеральной совокупности

&lt;br/&gt;

В нашем примере дисперсия `\(s^2 = \frac{72}{11 - 1} = 7.2\)`

&lt;br/&gt;

Дисперсию нельзя изобразить на графике, т.к. там используются не отклонения, а их квадраты.

---

## Среднеквадратичное/стандартное отклонение = Standard Deviation

Квадратный корень из дисперсии позволит вернуться к исходным единицам измерения.

`$$s = \sqrt{s^2} = \sqrt{\frac{\sum{(x_i - \bar{x})^2}}{n - 1}} = SD$$`
__Стандартное (среднеквадратичное) отклонение__ — характеристика разброса (усредненное отклонение от среднего).

- `\(s\)` — стандартное отклонение в выборке
- `\(\sigma\)` — стандартное отклонение в генеральной совокупности

&lt;br/&gt;

Стандартное отклонение `\(s =  \sqrt{\frac{72}{11 - 1}} =  \sqrt{ 7.2 } = 2.68\)`

Стандартное отклонение — это средняя величина отклонения, и ее уже можно изобразить на графике.


---

## Среднее и стандартное отклонение на графиках

.pull-left[

Для наглядности посмотрим на них на гистограмме.

![](03-descriptive-statistics_files/figure-html/gg-mean-sd-hist-1.png)&lt;!-- --&gt;

]

--

.pull-right[

Но чаще их изображают в виде точки с усами.

![](03-descriptive-statistics_files/figure-html/gg-mean-sd-1.png)&lt;!-- --&gt;

]

--

__Внимательно читайте подписи__ к графикам, т.к. усы могут означать:

- 1 или 2 стандартных отклонения (SD)
- стандартную ошибку среднего (SE, см. далее)
- доверительный интервал к среднему значению
- диапазон значений (минимум, максимум)

???

При вычислении не округляют промежуточные результаты. Конечный результат описательных статистик часто округляют, оставляя на один разряд больше, чем исходные величины [@whitlock2015AnalysisBiologicalData, p.70].

---

## Коэффициент вариации

__Коэффициент вариации__ — это стандартное отклонение, выраженное в процентах относительно среднего значения признака.

`$$CV=\frac{s}{\bar{x}} \times 100 \%$$`

Чем больше коэффициент вариации, тем сильнее выражена изменчивость признака.

--

.pull-left[
![:scale 50%](img/worm.png)
![:scale 18%](img/worm.png)

![:scale 17%](img/worm.png)
![:scale 25%](img/worm.png)

`\(\bar x = 7\)` см, `\(s = 5\)` см

`\(CV = 71.43 \%\)` 

]

--

.pull-right[
![:scale 50%](img/boa.png)
![:scale 40%](img/boa.png)
![:scale 45%](img/boa.png)
![:scale 47%](img/boa.png)

`\(\bar x = 8\)` м, `\(s = 1\)` м

`\(CV = 12.5 \%\)`

]


???

= относительное стандартное отклонение

Земляные червяки, среднее 7 см, стандартное отклонение 5 см. Удавы, среднее 8 м, стандартное отклонение 96 см. Кто из них имеет более изменчивый размер тела? Величина стандартного отклонения здесь сама по себе не поможет. Нам нужно использовать какую-то относительную шкалу изменений, которая бы учитывала величину самого признака. Пусть средний размер земляных червяков 7 см, тогда стандартное отклонение 5 см — это очень много. CV 71,43 %. В то же время, при среднем размере удавов 8 м, тогда стандартное отклонение 96 см — это очень мало. CV = 12%

CV используется только для признаков со значениями больше нуля.

Коэффициент вариации используется для сравнения изменчивости признаков, выраженных в разных шкалах.

Приведенная выше формула — это смещенная оценка. Несмещенная для нормально-распределенных данных `\({\widehat{c_{\mathrm{v}}}}^{*}=\left(1+\frac{1}{4 n}\right) \widehat{c_{\mathrm{V}}}\)`

---

class: middle, center, inverse

# Связка медиана и межквартильное расстояние

TODO: фото с парой объектов или со связкой

---

## Медиана

Медиана — это число, которое делит пополам упорядоченный ряд наблюдений.

Справа и слева от медианы находятся по 50% наблюдений.

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-median-hist1-1.png)&lt;!-- --&gt;

]
.pull-right[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

]

---

## Квартили


Квартили делят распределение на __четыре__ равные части, каждая из которых включает по 25% значений.

- I квартиль отсекает первые 25%.  
- II квартиль (медиана) — 50%.   
- III квартиль отсекает 75% значений.  

&lt;br/&gt;

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-median-hist-qq-1.png)&lt;!-- --&gt;

]
.pull-right[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

Квартили:


```
25% 50% 75% 
  6   7  10 
```

]


---

## 5-number summary

__5-number summary__ — минимум, квартили, максимум — удобное краткое описание данных.

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-median-hist-5num-1.png)&lt;!-- --&gt;
]
.pull-right[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

5-number summary:


```
  0%  25%  50%  75% 100% 
   4    6    7   10   13 
```

]

---

## Боксплот: 5-number summary на графике

.pull-left[

5-number summary:


```
  0%  25%  50%  75% 100% 
   4    6    7   10   13 
```

![](03-descriptive-statistics_files/figure-html/boxplot1-1.png)&lt;!-- --&gt;

]

.pull-right[


По оси Y отложены характеристики выборки:

- жирная линия — медиана,
- нижняя и верхняя границы "коробки" — это I и III квантили,
- усы — минимум и максимум.

__Интерквартильное расстояние__ — расстояние между I и III квартилями (высота "коробки")

Если в выборке есть выбросы (значения, отстоящие от границ "коробки" больше чем на 1.5 интерквартильных расстояния), то они будут изображены отдельными точками. 

]

???

TODO: Whitlock and Schluter 2015, p.86, ex.4

---

class: middle, center, inverse

# Сопоставляем свойства 
## среднего и медианы, 
## стандартного отклонения и межквартильного расстояния

---

## Медиана и среднее

Медиана отделяет 50% данных.

![](img/median-scale-excalidraw.png)

&lt;br/&gt;

Среднее "уравновешивает" данные.

![](img/mean-scale-excalidraw.png)

---

## Среднее плохо работает для асимметричных распределений

![:scale 100%](img/mean-median-symmetry-excalidraw.png)

---

## Среднее неустойчиво к выбросам

__Выбросы__ (outliers) — наблюдения сильно отличающиеся от большинства 

![](img/mean-outliers-1.png)

![](img/mean-outliers-2.png)

--

Стандартное отклонение еще более неустойчиво, т.к. расчитывается исходя из __квадратов__ отклонений.


???

TODO: Whitlock and Schluter 2015, p.86, ex.5

---

## Когда использовать какую из статистик?

- Категориальные данные — мода
- Ранговые данные — медиана
- Численные данные (симметричные, без выбросов)  — среднее
- Численные данные (несимметричные, без выбросов) — медиана

---

class: middle, center, inverse

# Накопленные частоты и пропорции

---

## Квантили

__Квантили__ делят ряд наблюдений на равные части.

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-hist-percentiles-1.png)&lt;!-- --&gt;

]
.pull-right[

Квантили называются по-разному в зависимости от числа частей.

Примеры квантилей:

- 2-квантиль ("два-квантиль") — медиана  
- 4-квантиль ("четыре-квантиль")--- квартиль  
- 100-квантиль ("сто-квантиль")--- перцентиль

]

---

## Перцентили

__Перцентиль__ — частный случай квантиля. Всего 99 перцентилей, они делят ряд наблюдений на 100 частей.

&lt;br/&gt;

.pull-left[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

&lt;br/&gt;

Какие значения отсекают 10% или 99% значений выборки?

10-й и 99-й перцентили:


```
 10%  99% 
 6.0 12.8 
```

]
.pull-right[
![](03-descriptive-statistics_files/figure-html/gg-hist-percentiles-1-1.png)&lt;!-- --&gt;

]

---

##  Квантили и перцентили

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-hist-percentiles-2-1.png)&lt;!-- --&gt;

]
.pull-right[

Квантиль показывает __какая часть__ данных меньше или равна ему:

- 1-квартиль — ¼ часть
- 2-квартиль — ½ часть
- 3-квартиль — ¾ части

Перцентиль показывает __какой процент__ данных меньше или равен ему:

- 1й перцентиль — 1%
- 2й перцентиль — 2%
- …
- 99й перцентиль — 99%

]

--

А что если нарисовать на графике эти перцентили последовательно?

---

## Кумулятивное частотное распределение

__Кумулятивное частотное распределение__ показывает, какая доля значений наблюдений меньше или равна определенному значению по оси х.

--

&lt;br/&gt;
Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-cumulate-1.png)&lt;!-- --&gt;

]

--


.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Накопленная частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.091 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.364 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.545 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.636 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.818 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.909 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]




---

## Читаем кумуляту

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-cumulate-median-1.png)&lt;!-- --&gt;

]
.pull-right[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Накопленная частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.091 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.364 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.545 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.636 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.818 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.909 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

---

## Огива

Если "перевернуть" кумуляту, получится __огива__.
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-ogive-1.png)&lt;!-- --&gt;

]
.pull-right[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Накопленная частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.091 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.364 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.545 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.636 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.818 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.909 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

---

## Пропорции (= доли)

__Пропорция__ (доля) — часть наблюдений от общего их количества.

`$$p = \frac{n_i}{n}$$`

- `\(n_i\)` — число наблюдений в определенной категории
- `\(n\)` — общее количество наблюдений

---

## Пропорции и среднее значение

У долей и среднего значения много общего.

--

&lt;br/&gt;

Данные: 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

Какая доля ящериц длиной меньше 8 см?

--

Можно заменить измерения на 1, если ящерица &lt; 8 см, и на 0, если больше.

1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0

--

Тогда доля ящериц меньше 8 см будет

`\(p = \frac{\sum{x_i}}{n} = \frac{6}{11} = 0.545\)`

--

Формула напоминает среднее значение.


???

TODO: Whitlock and Schluter 2015, p.86, ex.10

---

class: middle, center, inverse

# Summary

---

## Что почитать
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="assets/macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<!-- https://github.com/fnaufel/xaringan-smartify-->
<script type="text/javascript">
  smartify();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
