<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Описательная статистика</title>
    <meta charset="utf-8" />
    <meta name="author" content="Марина Варфоломеева" />
    <script src="site_libs/header-attrs-2.15/header-attrs.js"></script>
    <link href="site_libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <link href="site_libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="site_libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="site_libs/fabric-4.3.1/fabric.min.js"></script>
    <link href="site_libs/xaringanExtra-scribble-0.0.1/scribble.css" rel="stylesheet" />
    <script src="site_libs/xaringanExtra-scribble-0.0.1/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30,"palette":[]}) })</script>
    <script src="site_libs/mark.js-8.11.1/mark.min.js"></script>
    <link href="site_libs/xaringanExtra-search-0.0.1/search.css" rel="stylesheet" />
    <script src="site_libs/xaringanExtra-search-0.0.1/search.js"></script>
    <script>window.addEventListener('load', function() { window.xeSearch = new RemarkSearch({"position":"bottom-left","caseSensitive":false,"showIcon":false,"autoSearch":true}) })</script>
    <script src="site_libs/xaringanExtra-progressBar-0.0.1/progress-bar.js"></script>
    <script src="site_libs/freezeframe-5.0.2/freezeframe.min.js"></script>
    <script src="site_libs/xaringanExtra-freezeframe-0.0.1/freezeframe-init.js"></script>
    <script id="xaringanExtra-freezeframe-options" type="application/json">{"selector":"img[src$=\"gif\"]","trigger":"click","overlay":false,"responsive":true,"warnings":true}</script>
    <link href="site_libs/tachyons-4.12.0/tachyons.min.css" rel="stylesheet" />
    <!-- https://github.com/fnaufel/xaringan-smartify-->
    <script
    			  src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    			  integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
    			  crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/fnaufel/xaringan-smartify/smartify.min.js"></script>
    <link rel="stylesheet" href="assets/xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="assets/xaringan.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: middle, left, inverse, title-slide

.title[
# Описательная статистика
]
.subtitle[
## Основы биостатистики, осень 2022
]
.author[
### Марина Варфоломеева
]

---






## Описательная статистика

- Описательная статистика: меры центральной тенденции и разброса
- Мода
- Медиана
- Связка среднее арифметическое и стандартное отклонение
- Медиана и межквартильное расстояние
- Коэффициент вариации
- Боксплоты
- Сопоставление свойств средней и медианы, стандартного отклонения и межквартильного расстояния
- Накопленные частоты и пропорции: квантили и перцентили, кумулята и огива, пропорции

---

class: middle, center, inverse

# Описательная статистика: &lt;br/&gt;меры центральной тенденции и разброса

---

## Пример: длина ящериц



Допустим, вы поймали несколько ящериц и измерили их длину (см).

.pull-left[

![:scale 100%](img/Viviparous_lizard_Zootoca_vivipara_in_the_Aamsveen_The_Netherlands.jpg)
.tiny[&lt;a href="https://commons.wikimedia.org/wiki/File:Viviparous_lizard_(Zootoca_vivipara)_in_the_Aamsveen,_The_Netherlands.jpg"&gt;Ocrdu&lt;/a&gt;, &lt;a href="https://creativecommons.org/licenses/by-sa/4.0"&gt;CC BY-SA 4.0&lt;/a&gt;, via Wikimedia Commons]

]

.pull-right[

![](img/lizards-unsorted.png)

10, 4, 7, 8, 7, 6, 11, 6, 13, 6, 10

]

???

Представьте, что у нас есть такой датасет. Было бы удобнее описать его парой чисел и не приводить все исходные данные. Кроме того, сжатое описание данных — это способ лучше в них разобраться.


---

## Ряд наблюдений можно изобразить &lt;br/&gt;на гистограмме

__Гистограмма__ — способ изображения частотных распределений. По оси Y отложена __частота__ (или доля, процент) наблюдений, попадающих в определенный диапазон (__классовый интервал__).

.pull-left[

![](img/lizards-unsorted.png)

10, 4, 7, 8, 7, 6, 11, 6, 13, 6, 10

]
.pull-right[

![](03-descriptive-statistics_files/figure-html/gg-hist-1.png)&lt;!-- --&gt;

]

Классовые интервалы от 3.5 до 4.5, от 4.5 до 5.5, от 5.5 до 6.5 и т.п.

---

## Задание 1

Мониторинг качества работы гинекологов (n = 143) в 1991-1995 гг. в двух регионах Англии (Harley et al., 2005). 

Один из исследованных параметов — распределение частоты женщин в возрасте до 25 лет, которым была проведена стерилизация.

.pull-left-40[
- Что это за график?

- Что измеряет ось Y?

- Какие подозрительные вещи видны на этом графике?

Как можно кратко описать эти данные,  
чтобы не приводить весь ряд?
]
.pull-right-60[
![](img/WS2015p86e3.png)
]

???

Отскок справа — это Rodney Ledward, недобросовестный гинеколог, который был отстранен от работы (еще ранье и в другом месте).

Рис. исходно из [doi:10.1136/bmj.38377.675440.8F](https://doi.org/10.1136/bmj.38377.675440.8F)

---

## Описательная статистика

Описательная статистика служит для краткого количественного описания данных.

.pull-left[
- __Меры центральной тенденции__ &lt;br/&gt;(_measures of location_)
]
.pull-right[
- __Меры разброса__ &lt;br/&gt;(_measures of spread_)
]

---

## Меры центральной тенденции &lt;br/&gt;(_measures of location_)


Оценивают, где расположены данные

.pull-left-40[

- мода
- медиана
- среднее арифметическое, геометрическое и т.п.
]
.pull-right-60[

![](img/pinpoint-unsplash.png)
.tiny[by geojango_maps at Unsplash]
]


???

График из примера, отметить разные

---

## Меры разброса, показатели вариации, &lt;br/&gt;(_measures of spread_)

Описывают изменчивость, ширину распределения данных
.pull-left-40[
- размах, диапазон варьирования
- дисперсия
- стандартное отклонение
- коэффициент вариации
- квантили, перцентили
]
.pull-right-60[
![](img/seyatel.png)

.tiny[Картина "сеятель, разбрасывающий облигации государственного займа" из к.ф. "12 стульев"]

]


???

График из примера, отметить разные. Картина "сеятель, разбрасывающий облигации государственного займа".

---

## Традиционные связки статистик

Мера центральной тенденции обычно используется вместе с подходящей мерой разброса.

- медиана и квантили
- среднее и стандартное отклонение

???

Некоторые связки статистик традиционно используются вместе: мера центральной тенденции и подходящая для неё мера разброса. Например,…

Для моды нет традиционного компаньона.

Для начала мы разберемся с мерами центральной тенденции, а потом посмотрим на связки статистик центральной тенденции и разброса.

Максимально сжатое описание данных — это представить их в виде одного единственного числа, отображающего их самое характерное, "центральное" значение. Но что такое "характерное/типичное/центральное" будет зависеть от определения этих понятий. Разные описательные статистики будут высвечивать разные особенности данных. Т.е. чтобы выбрать правильную меру центральной тенденции, нужно представлять, что именно вы хотите показать.

---

class: middle, center, inverse
background-image: url("img/mode-umbrellas-unsplash.png")
background-position: center
background-size: cover

# Мода

.tiny[by smile_97 at Unsplash]

---

## Мода

__Мода__ — наиболее часто встречающееся значение в наборе данных.
&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

![](img/lizards-sorted.png)


---

## Мода

Мода — наиболее часто встречающееся значение в наборе данных.
&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

Мода равна 6

.pull-left[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

.pull-right[

![](03-descriptive-statistics_files/figure-html/gg-measures-of-location-1.png)&lt;!-- --&gt;

]


???

---

## Мода часто используется для категориальных данных

![](03-descriptive-statistics_files/figure-html/gg-mode-categorical-1.png)&lt;!-- --&gt;


???

Для категориальных данных бывает интересно узнать, какая категория встречается чаще всего. Например, здесь это …

---

## Мода может быть не одна

![](03-descriptive-statistics_files/figure-html/gg-mode-two-1.png)&lt;!-- --&gt;


???

Поскольку в данных может быть несколько частых значений, мода не очень удачна для описания центральной тенденции. Здесь на картинке две моды с одинаковой частотой. Какая из них лучше описывает данные?

## Может не быть моды вообще

![](03-descriptive-statistics_files/figure-html/gg-mode-none-1.png)&lt;!-- --&gt;

???

Или представьте, что вы измеряете рост 15 человек с точностью до 1 мм. Как будет выглядеть распределение веса? Вы вряд ли получите совпадающие значения, значит никакой моды не будет (если не объединять наблюдения в группы).  (если больше людей, то будут повторы)


## Мода может быть не в центре распределения


![](03-descriptive-statistics_files/figure-html/gg-mode-nb-1.png)&lt;!-- --&gt;

???

В некоторых случаях мода не дает представления о положении центральной тенденции, т.к. может быть не в "центре" распределения, а "с краю".

---

## Унимодальные и бимодальные распределения

— термины, позволяющие различать распределения с разным количеством вершин


![](03-descriptive-statistics_files/figure-html/gg-mode-uni-bi-1.png)&lt;!-- --&gt;


???

Тем не менее, благодаря моде у нас появляются термины для распределений с разным количеством вершин.

---

class: middle, center, inverse
background-image: url("img/boats-median-unsplash.png")
background-position: center
background-size: cover

# Медиана

.tiny[by benharritt at Unsplash]

---

## Медиана

__Медиана__ — это число, которое делит пополам упорядоченный ряд наблюдений.

Чтобы ее найти, нужно отсортировать (ранжировать) наблюдения.

![](img/lizards-sorted.png)

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13


???

---

## Медиана

Если нечетное число наблюдений, то его середина — это медиана.

![:scale 43%](img/lizards-odd.png)

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

--

Если четное число наблюдений, то медиана находится между двумя центральными (их среднее арифметическое).

![:scale 43%](img/lizards-even.png)

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, 20, медиана 7.5

???

---

## Медиана


![](03-descriptive-statistics_files/figure-html/gg-median-hist-1.png)&lt;!-- --&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7


---

class: middle, center, inverse

## Среднее значение

---

## Разнообразие средних значений

Обычно под термином __среднее значение__ мы подразумеваем __среднее арифметическое__.

Но есть и другие варианты средних значений: 

- среднее квадратическое, 
- среднее кубическое, 
- среднее гармоническое, 
- среднее геометрическое.

(О них в дополнительной презентации).

---

## Среднее арифметическое

`$$\bar{x}=\frac{x_{1}+x_{2}+\cdots+x_{n}}{n}=\frac{\sum x_{i}}{n}$$`

Среднее в выборке обозначается `\(\bar{x}\)`, а в генеральной совокупности μ

---

class: middle, center, inverse

# Связка среднее арифметическое и стандартное отклонение

???

Статистики для описания выборок всегда ходят парами. Меры центральной тенденции всегда используются вместе с мерами разброса. Сейчас мы рассмотрим одну такую связку, пожалуй, самую популярную.

---

## Среднее значение

`$$\bar{x}=\frac{\sum{x_i}}{n}$$`

![](03-descriptive-statistics_files/figure-html/gg-mean-hist-1.png)&lt;!-- --&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, среднее значение `\(\bar{x}=8\)`

--

### Как оценить разброс значений вокруг среднего?


---

## Подойдет ли девиата для оценки разброса?

__Девиата__ (отклонение) — это разность между значением вариаты (измерения) и средним:

`$$x_i - \bar{x}$$`

![](03-descriptive-statistics_files/figure-html/gg-deviates-1.png)&lt;!-- --&gt;

Данные 10, 4, 7, 8, 7, 6, 11, 6, 13, 6, 10, среднее значение `\(\bar{x}= 8\)`

Девиаты 2, -4, -1, 0, -1, -2, 3, -2, 5, -2, 2

---

## Девиаты не годятся как мера разброса

Нельзя так просто сложить все значения девиат и поделить их на объем выборки.

__Сумма девиат всегда будет равна нулю__.

--

.pull-left-45[

`$$\begin{aligned} 
\sum{(x_i - \bar{x})} &amp;= \sum x_i - \sum \bar x = \\ 
&amp;= \sum x_i - n \bar x = \\ 
&amp;= \sum x_i - n \cfrac{\sum x_i}{n} = 0 
\end{aligned}$$`

]

--

.pull-right-55[

Девиаты 2, -4, -1, 0, -1, -2, 3, -2, 5, -2, 2

Сумма девиат 0

]


???

Мем из властелина колец про нельзя так просто

---

## Сумма квадратов (SS, Sum of Squares)

Чтобы избавиться от знака, возведем девиаты в квадрат

__Сумма квадратов отклонений__:

`$$SS = \sum{{(x_i - \bar{x})}^2} \ne 0$$`

![](03-descriptive-statistics_files/figure-html/gg-deviates-1.png)&lt;!-- --&gt;

Девиаты 2, -4, -1, 0, -1, -2, 3, -2, 5, -2, 2

--

Сумма квадратов отклонений (девиат) `\(SS = 72\)`

--

Но на что разделить `\(SS\)`, чтобы получить __усредненное__ отклонение от `\(\bar{x}\)`?

---

## Как усреднить отклонения от среднего значения?

Мы не можем делить на `\(n\)`, поскольку __в выборке__ отклонения от среднего `\(x_i - \bar x\)` не будут независимы:

Что это значит? Сумма отклонений всегда равна нулю `\(\sum{(x_i - \bar{x})} = 0\)`.  

Поэтому, если мы знаем `\(\bar x\)` и `\(n - 1\)` отклонений, то всегда сможем точно вычислить последнее отклонение.

&lt;br /&gt;

`\(n - 1\)` — это число независимых значений (__число степеней свободы__, __degrees of freedom__).

---

## Дисперсия (MS, Mean Square, Variance)

Если мы поделим сумму квадратов на объем выборки минус 1, то получим дисперсию для этой выборки.

`$$s^2=\frac{\sum{(x_i - \bar{x})^2}}{n - 1}= \frac{SS}{n - 1}$$`

__Дисперсия__ (средний квадрат отклонений) — характеристика разброса.  

- `\(s^2\)` — дисперсия в выборке 
- `\(\sigma^2\)` — дисперсия в генеральной совокупности

--

&lt;br/&gt;

В нашем примере дисперсия `\(s^2 = \frac{72}{11 - 1} = 7.2\)`

&lt;br/&gt;

Дисперсию нельзя изобразить на графике, т.к. там используются не отклонения, а их квадраты.

---

## Среднеквадратичное/стандартное отклонение = Standard Deviation

Квадратный корень из дисперсии позволит вернуться к исходным единицам измерения.

`$$s = \sqrt{s^2} = \sqrt{\frac{\sum{(x_i - \bar{x})^2}}{n - 1}} = SD$$`
__Стандартное (среднеквадратичное) отклонение__ — характеристика разброса (усредненное отклонение от среднего).

- `\(s\)` — стандартное отклонение в выборке
- `\(\sigma\)` — стандартное отклонение в генеральной совокупности

--

&lt;br/&gt;

Стандартное отклонение `\(s =  \sqrt{\frac{72}{11 - 1}} =  \sqrt{ 7.2 } = 2.68\)`

Стандартное отклонение — это средняя величина отклонения, и ее уже можно изобразить на графике.


---

## Среднее и стандартное отклонение на графиках

.pull-left[

Для наглядности посмотрим на них на гистограмме.

![](03-descriptive-statistics_files/figure-html/gg-mean-sd-hist-1.png)&lt;!-- --&gt;

]

--

.pull-right[

Но чаще их изображают в виде точки с усами.

![](03-descriptive-statistics_files/figure-html/gg-mean-sd-1.png)&lt;!-- --&gt;

]

--

__Внимательно читайте подписи__ к графикам, т.к. усы могут означать:

- 1 или 2 стандартных отклонения (SD)
- стандартную ошибку среднего (SE, см. далее)
- доверительный интервал к среднему значению
- диапазон значений (минимум, максимум)

???

При вычислении не округляют промежуточные результаты. Конечный результат описательных статистик часто округляют, оставляя на один разряд больше, чем исходные величины [@whitlock2015AnalysisBiologicalData, p.70].

---

## Коэффициент вариации

__Коэффициент вариации__ — это стандартное отклонение, выраженное в процентах относительно среднего значения признака.

`$$CV=\frac{s}{\bar{x}} \times 100 \%$$`

Чем больше коэффициент вариации, тем сильнее выражена изменчивость признака.

--

.pull-left[
![:scale 50%](img/worm.png)
![:scale 18%](img/worm.png)

![:scale 17%](img/worm.png)
![:scale 25%](img/worm.png)

`\(\bar x = 7\)` см, `\(s = 5\)` см

`\(CV = 71.43 \%\)` 

]

--

.pull-right[
![:scale 50%](img/boa.png)
![:scale 40%](img/boa.png)
![:scale 45%](img/boa.png)
![:scale 47%](img/boa.png)

`\(\bar x = 8\)` м, `\(s = 1\)` м

`\(CV = 12.5 \%\)`

]


???

= относительное стандартное отклонение

Земляные червяки, среднее 7 см, стандартное отклонение 5 см. Удавы, среднее 8 м, стандартное отклонение 96 см. Кто из них имеет более изменчивый размер тела? Величина стандартного отклонения здесь сама по себе не поможет. Нам нужно использовать какую-то относительную шкалу изменений, которая бы учитывала величину самого признака. Пусть средний размер земляных червяков 7 см, тогда стандартное отклонение 5 см — это очень много. CV 71,43 %. В то же время, при среднем размере удавов 8 м, тогда стандартное отклонение 96 см — это очень мало. CV = 12%

CV используется только для признаков со значениями больше нуля.

Коэффициент вариации используется для сравнения изменчивости признаков, выраженных в разных шкалах.

Приведенная выше формула — это смещенная оценка. Несмещенная для нормально-распределенных данных `\({\widehat{c_{\mathrm{v}}}}^{*}=\left(1+\frac{1}{4 n}\right) \widehat{c_{\mathrm{V}}}\)`

---

class: middle, center, inverse

# Связка медиана и межквартильное расстояние

---

## Медиана

Медиана — это число, которое делит пополам упорядоченный ряд наблюдений.

Справа и слева от медианы находятся по 50% наблюдений.

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-median-hist1-1.png)&lt;!-- --&gt;

]
.pull-right[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

]

---

## Квартили


Квартили делят распределение на __четыре__ равные части, каждая из которых включает по 25% значений.

- I квартиль отсекает первые 25%.  
- II квартиль (медиана) — 50%.   
- III квартиль отсекает 75% значений.  

&lt;br/&gt;

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-median-hist-qq-1.png)&lt;!-- --&gt;

]
.pull-right[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

Квартили:


```
25% 50% 75% 
  6   7  10 
```

]


---

## 5-number summary

__5-number summary__ — минимум, квартили, максимум — удобное краткое описание данных.

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-median-hist-5num-1.png)&lt;!-- --&gt;
]
.pull-right[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13, медиана 7

5-number summary:


```
  0%  25%  50%  75% 100% 
   4    6    7   10   13 
```

]

---

## Боксплот: 5-number summary на графике

.pull-left[

5-number summary:


```
  0%  25%  50%  75% 100% 
   4    6    7   10   13 
```

![](03-descriptive-statistics_files/figure-html/boxplot1-1.png)&lt;!-- --&gt;

]

.pull-right[


По оси Y отложены характеристики выборки:

- жирная линия — медиана,
- нижняя и верхняя границы "коробки" — это I и III квантили,
- усы — минимум и максимум.

__Интерквартильное расстояние__ — расстояние между I и III квартилями (высота "коробки")

Если в выборке есть выбросы (значения, отстоящие от границ "коробки" больше чем на 1.5 интерквартильных расстояния), то они будут изображены отдельными точками. 

]

---

## Задание 2

Распределение массы тела млекопитающих (в граммах, log-трансформация) (Smith et al. 2003).

.pull-left-45[
- Что это за график?
- Что значит горизонтальная линия в центре коробки и границы коробки?
- Что означают горизонтальные черточки вверху и внизу первой и второй коробок?
]
.pull-right-55[
![](img/WS2015p89e4.png)
]

- Сравните положение распределений размера тела.
  - Какие из них относительно симметричны / асимметричны? Почему вы так решили?
  - В какой из групп наименьший разброс значений?

- Как могли повлиять вымирания видов в ледниковый период и в наше время на распределение размеров млекопитающих?

???

TODO: Whitlock and Schluter 2015, p.86, ex.4

---

class: middle, center, inverse

# Сопоставляем свойства 
## среднего и медианы, 
## стандартного отклонения и межквартильного расстояния

---

## Медиана и среднее

Медиана отделяет 50% данных.

![](img/median-scale-excalidraw.png)

&lt;br/&gt;

Среднее "уравновешивает" данные.

![](img/mean-scale-excalidraw.png)

---

## Среднее плохо работает для асимметричных распределений

![:scale 100%](img/mean-median-symmetry-excalidraw.png)

---

## Среднее неустойчиво к выбросам

__Выбросы__ (outliers) — наблюдения сильно отличающиеся от большинства 

![](img/mean-outliers-1.png)

![](img/mean-outliers-2.png)

--

Стандартное отклонение еще более неустойчиво, т.к. расчитывается исходя из __квадратов__ отклонений.

---

## Задание 3

Распределение числа слов, произнесенных в течение 17 часового дня людьми (n = 396) (Mehl et al. 2017). Мужчины в среднем произносили 15 669 слов (n = 186), а женщины 16 215 слов (n = 210). 

.pull-left[

![](img/WS2015p89e5.png)

]
.pull-right[
- Что это за график?
- Какая переменная из использованных на графике является откликом, а какая предиктором?

- Чему равна мода каждого из распределений?
- Медианное число произносимых слов в день выше у мужчин или женщин?
- У какого из полов скорее всего выше дисперсия числа произносимых слов в день?
]


???

TODO: Whitlock and Schluter 2015, p.86, ex.5



---

## Когда использовать какую из статистик?

- Категориальные данные — мода
- Ранговые данные — медиана
- Численные данные (симметричные, без выбросов)  — среднее
- Численные данные (несимметричные, без выбросов) — медиана

---

class: middle, center, inverse

# Накопленные частоты и пропорции

---

## Квантили

__Квантили__ делят ряд наблюдений на равные части.

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-hist-percentiles-1.png)&lt;!-- --&gt;

]
.pull-right[

Квантили называются по-разному в зависимости от числа частей.

Примеры квантилей:

- 2-квантиль ("два-квантиль") — медиана  
- 4-квантиль ("четыре-квантиль")--- квартиль  
- 100-квантиль ("сто-квантиль")--- перцентиль

]

---

## Перцентили

__Перцентиль__ — частный случай квантиля. Всего 99 перцентилей, они делят ряд наблюдений на 100 частей.

&lt;br/&gt;

.pull-left[

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

&lt;br/&gt;

Какие значения отсекают 10% или 99% значений выборки?

10-й и 99-й перцентили:


```
 10%  99% 
 6.0 12.8 
```

]
.pull-right[
![](03-descriptive-statistics_files/figure-html/gg-hist-percentiles-1-1.png)&lt;!-- --&gt;

]

---

##  Квантили и перцентили

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-hist-percentiles-2-1.png)&lt;!-- --&gt;

]
.pull-right[

Квантиль показывает __какая часть__ данных меньше или равна ему:

- 1-квартиль — ¼ часть
- 2-квартиль — ½ часть
- 3-квартиль — ¾ части

Перцентиль показывает __какой процент__ данных меньше или равен ему:

- 1й перцентиль — 1%
- 2й перцентиль — 2%
- …
- 99й перцентиль — 99%

]

--

А что если нарисовать на графике эти перцентили последовательно?

---

## Кумулятивное частотное распределение

__Кумулятивное частотное распределение__ показывает, какая доля значений наблюдений меньше или равна определенному значению по оси х.

--

&lt;br/&gt;
Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-cumulate-1.png)&lt;!-- --&gt;

]

--


.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Накопленная частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.091 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.364 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.545 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.636 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.818 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.909 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]




---

## Читаем кумуляту

&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-cumulate-median-1.png)&lt;!-- --&gt;

]
.pull-right[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Накопленная частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.091 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.364 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.545 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.636 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.818 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.909 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

---

## Огива

Если "перевернуть" кумуляту, получится __огива__.
&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;

Данные 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

.pull-left[

![](03-descriptive-statistics_files/figure-html/gg-ogive-1.png)&lt;!-- --&gt;

]
.pull-right[

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Значение &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Накопленная частота &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.091 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.364 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.545 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.636 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 10 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.818 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 11 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.909 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 13 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]

---

## Пропорции (= доли)

__Пропорция__ (доля) — часть наблюдений от общего их количества.

`$$p = \frac{n_i}{n}$$`

- `\(n_i\)` — число наблюдений в определенной категории
- `\(n\)` — общее количество наблюдений

---

## Пропорции и среднее значение

У долей и среднего значения много общего.

--

&lt;br/&gt;

Данные: 4, 6, 6, 6, 7, 7, 8, 10, 10, 11, 13

Какая доля ящериц длиной меньше 8 см?

--

Можно заменить измерения на 1, если ящерица &lt; 8 см, и на 0, если больше.

1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0

--

Тогда доля ящериц меньше 8 см будет

`\(p = \frac{\sum{x_i}}{n} = \frac{6}{11} = 0.545\)`

--

Формула напоминает среднее значение.

---

## Задание 4

Темпы роста населения в 204 странах (United Nations Statistics Division 2004), выраженные как средний годовой процент изменения суммарной численности населения в период с 2000 по 2004 гг.

.pull-left-60[
![](img/WS2015p89e10.png)
]
.pull-right-40[
- Что это за график?
- Что за величина отложена по оси Y?
]

- Каков приблизительный процент стран, где численность населения уменьшается?

- Определите на глаз:
  - медианное значение темпов роста населения
  - 90 перцентиль изменения численности населения

???

TODO: Whitlock and Schluter 2015, p.86, ex.10

---

class: middle, center, inverse

# Summary

---

## Summary

### Описательные статистики

Меры центральной тенденции

  - Мода — наиболее часто встречающееся значение в ряду данных.
  - Медиана — делит пополам упорядоченный ряд наблюдений.
  - Среднее значение — обычно под ним подразумевается среднее арифметическое. Но есть и другие варианты средних значений: среднее квадратическое, кубическое, гармоническое, геометрическое.

--

Меры разброса

  - Квантили — числа, которые делят ряд наблюдений на определенное число частей (например, квартили — на 4, перцентили — на 100).
  - Девиата — отклонение значения от среднего.
  - Дисперсия — средний квадрат отклонений.
  - Среднеквадратичное (стандартное) отклонение — квадратный корень из дисперсии.
  - Коэффициент вариации — стандартное отклонение, выраженное в процентах от среднего значения.

---

## Summary

### Связки описательных статистик

- Среднее арифметическое и стандартное отклонение лучше использовать когда распределение данных относительно симметрично и не содержит выбросов.

- Медиана и межквартильное расстояние лучше, чем среднее значение, работают с несимметричными распределениями, при наличии выбросов или для ранговых данных. 

---

## Summary

### Изображение описательных статистик

- Гистограмма — способ изображения частотных распределений. По оси Y отложена частота или процент наблюдений, попадающих в определенный диапазон.
- Боксплоты — способ графического изображения 5-number summary: минимум, I квартиль, медиана, III квартили, максимум.
- Кумулята и огива — это способы изобразить накопленные частоты и пропорции.

---

## Что почитать

- Sokal, R.R., Rohlf, F.J., 1995. Biometry (3rd edn). WH Freeman and company: New York.
- Zar, J.H., 2010. Biostatistical Analysis. Prentice Hall: New York.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="assets/macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<!-- https://github.com/fnaufel/xaringan-smartify-->
<script type="text/javascript">
  smartify();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
